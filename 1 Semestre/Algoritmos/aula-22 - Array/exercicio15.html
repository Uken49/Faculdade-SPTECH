<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicio 14</title>
</head>

<body>
    Nome do produto: <input id="inp_produto"><br>
    Preço da compra: <input id="inp_preco"><br>

    <button onclick="cadastrar()">Cadastrar</button>
    <button onclick="relatorio()">Relatório de estoque</button>

    <div id="res"></div>
</body>

</html>

<script>

    var estoque = []


    function cadastrar() {
        var produto = {
            nome: "",
            preco: ""
        }

        var nome = inp_produto.value
        var preco = Number(inp_preco.value)

        produto.nome = nome
        produto.preco = preco

        estoque.push(produto)
    }

    function relatorio() {
        var tamanhoVetor = estoque.length
        var texto
        var venda = 0
        var maxProduto = 0
        var minProduto = 9999999999999999999
        var somaProduto = 0
        var mediaProduto = 0

        res.innerHTML = ""
        for (var contagem = 0; contagem < tamanhoVetor; contagem++) {
            var nome = estoque[contagem].nome
            var preco = estoque[contagem].preco
            var venda = preco * 1.25

            if (preco > maxProduto) {
                maxProduto = nome
            }
            if (preco < minProduto) {
                minProduto = nome
            }
            somaProduto += preco

            texto += `Produto ${contagem + 1}: ${nome}<br>`;
            texto += `Preço de compra: R$${preco.toFixed(2)}. Vender por R$${venda.toFixed(2)}<br><br>`;

        }
        mediaProduto = somaProduto/tamanhoVetor

        texto += `Produto mais caro: ${maxProduto}<br>`;
        texto += `Produto mais barato: ${minProduto}<br>`;
        texto += `Média de preço de venda: ${mediaProduto}<br>`;
        texto += `Soma dos produtos: ${somaProduto}<br><br>`;


        res.innerHTML = texto
    }
</script>