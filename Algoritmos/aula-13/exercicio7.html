<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicio 7</title>
</head>

<body>
    Selecione uma das opções:
    <select id="sel_combo1">
        <option value="oviparo">Ovíparos</option>
        <option value="mamifero">Mamiferos</option>
    </select> <br>
    <button onclick="ExibirCombo2()">Continuar</button>


    <div id="div_sel"></div>
    <img width="400px" id="img_animal" src="">
    <div id="div_inp"></div>
    <div id="div_calc"></div>
</body>

</html>

<script>
    var combo1 = ''

    function exibirMami() {
        div_sel.innerHTML = `
        Selecione um dos animais:
        <select id="sel_combo2">
        <option value="elefante">Elefante</option>
        <option value="porco">Porco</option>
        <option value="coelho">Coelho</option>
        </select> <br>
        <button onclick="ExibirInput()">Continuar</button>
        `
    }

    function exibirOvip() {
        div_sel.innerHTML = `
        Selecione um dos animais: 
        <select id="sel_combo2">
        <option value="galinha">Galinha</option>
        <option value="peixe">Peixe</option>
        <option value="tartaruga">Tartaruga</option>
        </select> <br>
        <button onclick="ExibirInput()">Continuar</button>
        `
    }

    function ExibirCombo2() { 
        limpar()
        combo1 = sel_combo1.value  
        if (combo1 == 'oviparo') {
            exibirOvip()
        } else {
            exibirMami()
        }
    }

    function ExibirInput() {
        if (combo1 == 'oviparo') {
            exibirImgOvip()
        } else {
            exibirImgMami()
        }
        div_inp.innerHTML = `
        Valor de compra: <input id="inp_valor"> <br>
        <button onclick="calcular()">Calcular imposto</button>
        `
    }

    function exibirImgOvip() {
        var combo2 = sel_combo2.value

        if (combo2 == 'galinha') {
            img_animal.src = "https://blog.cobasi.com.br/wp-content/uploads/2021/08/quantos-anos-vive-uma-galinha-1-1.png"
        } else {
            if (combo2 == 'peixe') {
                img_animal.src = "https://www.universodoaquario.com.br/image/cache/catalog/peixes/corais/peixes-palhaco-ocellaris-p-900x900.jpg"
            } else {
                img_animal.src = "https://dkt6rvnu67rqj.cloudfront.net/sites/default/files/styles/600x400/public/media/br_files/tarta.jpg?h=7faab102&itok=vlNS2io-"
            }
        }
    }

    function exibirImgMami() {
        var combo2 = sel_combo2.value

        if (combo2 == 'elefante') {
            img_animal.src = "https://static.preparaenem.com/2022/01/elefante-africano-de-savana-na-pastagem.jpg"
        } else {
            if (combo2 == 'coelho') {
                img_animal.src = "https://www.petlove.com.br/images/breeds/227696/profile/original/perfil-coelho.jpg?1597789099"
            } else {
                img_animal.src = "https://s2.glbimg.com/DJ9TJliDtmrx3Mm52bPXPo7NIIs=/e.glbimg.com/og/ed/f/original/2021/01/06/pexels-barbara-barbosa-4636980.jpg"
            }
        }
    }

    function calcular() {
        if (combo1 == "oviparo") {
            var imposto = 0.05
        } else {
            var imposto = 0.1
        }
        var valor = Number(inp_valor.value) * imposto

        div_calc.innerHTML = `O imposto será de R$${valor.toFixed(2)}`
    }

    function limpar() {
        div_sel.innerHTML = ''
        div_inp.innerHTML = ''
        img_animal.src = ''
        div_calc.innerHTML = ''
        combo1 = ''
    }
</script>